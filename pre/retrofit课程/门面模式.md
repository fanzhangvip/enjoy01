1.产生背景
为什么需要门面模式

![whymanmianmos](%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F.assets/whymanmianmos.jpg)

我是一个辛苦一辈子的农民，攒了几十年钱，现在日子好了，也想建一套属于自己的小洋楼；

首先，我要雇一个搬砖的和一个和泥的，还要一个会砌墙的人；可是我到哪里去找这些人，还要一个一个跟他们谈价钱；不知道他们和不和得来，会不会干一半不干了；

哎，好烦；

要是有一个人什么都会就好，我只要跟他谈，他一个人就能帮我把房子建好；
总之，我就是想省心；

![](%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F.assets/whymenmianmoshi2.jpg)

2.概念
提供一个统一的接口去访问多个子系统的多个不同的接口，它为子系统中的一组接口提供一个统一的高层接口。使用子系统更容易使用。

本质：就是化零为整；引入一个中介类，把各个分散的功能组合成一个整体，只对外暴露一个统一的接口；

这两年流行微服务，即化整为零，把一个大服务拆分成一个个零部件；
而门面模式则是反其道，是化零为整；

3.目的
为了用户使用方便，把过度拆分的分散功能，组合成一个整体，对外提供一个统一的接口

4.解决方案
本质：引入一个第三方中介类，这个类集合了多个零部件类的功能，实际功能则委托给这些零部件对象，这个类只是做为对外的统一接口，只是一个马甲；

引入中介对象
有许多细粒度的小对象
中介对象暴露了这些小对象的功能；
中介对象实际功能委托给这些小对象
中介对象提供给外部使用（对外隐藏那些小对象）
图片来自百科

![](%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F.assets/menmianmoshi1.jpg)



5. 类图
  所有实现类的地方都可以面向抽像编程（增加接口）

  ![](%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F.assets/menmianmoshi2.jpg)


6.优缺点
优点：
松耦合
用户与子系统解耦，屏蔽子系统；可以提高子系统的独立性；

使用简单
简化用户与子系统的依赖关系；
用户只与门面对接，有统一的入口；不需要知道所有子系统及内部构造；

缺点：
不规范的编程方式
没有面向抽象编程，而是通过增加中介层，转换服务提供方的服务接口；
最核心的目的：简化子系统，简化客户使用，屏蔽多个子系统

7.应用场景
A：简化子系统复杂性时。
B：监控所有子系统时；通过门面控制了入口，可以统一监控；
C：希望封装和隐藏子系统时；
D：两历史系统进行改造并打通关系时；
8.现实案例
spring ApplicationContext;
它实现了Factory、ResourceLoader等接口，并通过引用这些接口的实例，对外统一提供：加载配置、解析资源、创建Bean、提供环境、启动流程等功能；

客户代码只需要操作context就可以获取spring的提供的功能，而无需关心内部的细节；

9.注意事项
“与代理模式的区别”
在了解门面模式时，会发现它不仅与代理模式很像，与装饰器模式也很类似；
它们之间到底有什么样的区别呢?

相似点：
- 都引入了中介类（对象）
- 中介对象都引用并把功能委托给了原对象
- 都起到了”代理”功能

区别
- 代理侧重于对原对象的访问控制（当然也可以不是控制而是功能增强）
- 代理与原类实现相同的抽象（相同接口或直接继承原业）
- 代理只代理一个类
- 门面侧重于功能整合（多个小系统或小对象整合成一个功能丰富的大对象）
- 门面可以与子系统具有不同的抽象（具有不同的接口，可以对方法重新起名）
- 门面代理的是一系列类