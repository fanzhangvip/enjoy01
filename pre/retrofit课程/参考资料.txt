https://juejin.im/post/5af0335c6fb9a07ace58cc8f
https://www.ibm.com/developerworks/cn/java/j-lo-proxy-pattern/index.html
https://segmentfault.com/a/1190000022258194
https://www.kancloud.cn/aslai/interview-guide/1126403、
https://www.zhihu.com/question/20794107
为什么使用代理
　　我们在写一个功能函数时，经常需要在其中写入与功能不是直接相关但很有必要的代 码，如日志记录，信息发送，安全和事务支持等，这些枝节性代码虽然是必要的，但它会带来以下麻烦：

枝节性代码游离在功能性代码之外，它不是函数的目的，这是对OO是一种破坏

枝节性代码会造成功能性代码对其它类的依赖，加深类之间的耦合，可重用性降低

从法理上说，枝节性代码应该监视'着功能性代码，然后采取行动，而不是功能性代码 通知'枝节性代码采取行动，这好比吟游诗人应该是主动记录骑士的功绩而不是骑士主动要求诗人记录自己的功绩

常见的代理有:
远程代理(Remote Proxy)：对一个位于不同的地址空间对象提供一个局域代表对象，如RMI中的stub

虚拟代理(Virtual Proxy)：根据需要将一个资源消耗很大或者比较复杂的对象，延迟加 载，在真正需要的时候才创建

保护代理(Protect or Access Proxy)：控制对一个对象的访问权限。

智能引用(Smart Reference Proxy)：提供比目标对象额外的服务和功能。

定义
　　代理(Proxy)是一种设计模式,定义：为其他对象提供一个代理以控制对某个对象的访问，即通过代理对象访问目标对象.这样做的好处是:可以在目标对象实现的基础上,增强额外的功能操作,即扩展目标对象的功能.
　　这里使用到编程中的一个思想:不要随意去修改别人已经写好的代码或者方法,如果需改修改,可以通过代理的方式来扩展该方法
![](http://oo4l9ob6p.bkt.clouddn....
)
　　代理模式的关键点是:代理对象与目标对象.代理对象是对目标对象的扩展,并会调用目标对象
优缺点
在全面解析完代理模式后，我来分析下其优缺点：

3.1 优点
协调调用者和被调用者，降低了系统的耦合度
代理对象作为客户端和目标对象之间的中介，起到了保护目标对象的作用
3.2 缺点
由于在客户端和真实主题之间增加了代理对象，因此会造成请求的处理速度变慢；
实现代理模式需要额外的工作（有些代理模式的实现非常复杂），从而增加了系统实现的复杂度。
4. 应用场景
当需要为一个对象再不同的地址空间提供局部的代表时
此时的代理模式称为远程代理：为一个对象在不同的地址空间提供局部代表。
目的：

隐藏一个对象存在于不同地址空间的事实；
远程机器可能具有更好的计算性能与处理速度，可以快速响应并处理客户端请求。
当需要创建开销非常大的对象时
此时的代理模式称为虚拟代理：通过使用过一个小的对象代理一个大对象。
目的：减少系统的开销。

当需要控制对原始对象的访问时
此时的代理模式称为保护代理：控制目标对象的访问，给不同用户提供不同的访问权限
目的：用来控制对真实对象的访问权限

当需要在访问对象时附加额外操作时
此时的代理模式称为智能引用代理，额外操作包括耗时操作、计算访问次数等等
目的：在不影响对象类的情况下，在访问对象时进行更多的操作

以上是最常用的使用场景，其他还包括：

防火墙代理：保护目标不让恶意用户靠近
Cache代理：为结果提供临时的存储空间，以便其他客户端调用
